# This workflow will

name: ocguix

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  ocguix:

    runs-on: ubuntu-latest
#    permissions:
#      contents: read
#      pull-requests: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Debug - List repository files
        run: |
          echo "Current directory:"
          pwd
          echo "Files in current directory:"
          ls -la
          echo "Checking for opencog.scm:"
          ls -l opencog.scm || echo "opencog.scm not found"

      - name: Install GNU Guix
        run: |
          sudo apt-get update
          sudo apt-get install -y guix

      - name: ocguix
        run: guix package -f opencog.scm
        
